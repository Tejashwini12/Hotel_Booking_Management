```
# API Testing with Behave

### Overview

This project utilizes the Behave framework for Behavior-Driven Development (BDD) to automate testing for the Booking Management system. Behave allows us to write tests in a natural language style, making it easier to understand and collaborate across teams.

### Installation

To get started, clone this repository and install the required dependencies:

```bash
git clone <repository-url>
cd <repository-directory>
pip install -r requirements.txt
```

#### Requirements

- Python 3.x
- pip
- Additional libraries (listed in `requirements.txt`)

### Getting Started

1. **Set Up Your Environment:** Ensure you have Python and pip installed on your machine.

2. **Install Dependencies:** Run the following command to install necessary packages:

    ```bash
    pip install -r requirements.txt
    ```

3. **Install Behave with Allure for Reporting:**

    ```bash
    pip install behave-allure
    ```

# Directory Structure

```
test_Booking
├── features
│   ├── booking_management.feature
├── steps
│   ├── booking_steps.py
│   └── other_steps.py
├── data_files
│   └── sample_data.json
├── scr
│   ├── Management
│   │   └── booking_management.py
│   ├── Manager
│   │   └── bookingmanager.py
│   └── Utils
│       ├── Assertion
│       │   └── assertion.py
│       └── RestDrivers
│           ├── Request.py
│           └── Response.py
├── environment.py
├── requirements.txt
├── reports
└── README.md
```

## Summary of the Structure:

- **features/:** Contains feature files describing system behavior.
- **steps/:** Contains step definitions corresponding to the scenarios in feature files.
- **data_files/:** Sample data used for testing.
- **scr/:** Main source directory:
    - **Management/:** Manages booking-related functionality.
    - **Manager/:** Contains logic for handling bookings.
    - **Utils/:** Contains utility functions and classes, organized into:
        - **Assertion/:** Contains assertion logic.
        - **RestDrivers/:** Handles RESTful requests and responses.
- **environment.py:** Configures the test environment.
- **requirements.txt:** Lists project dependencies.
- **reports/:** Contains test reports generated by Allure.
- **README.md:** Project documentation.

### Writing Features

Features are written in `.feature` files using Gherkin syntax. Each feature consists of a set of scenarios written in the Given-When-Then format.

**Example of a feature file (booking_management.feature):**

```gherkin
Feature: Booking Management

  Scenario: Create a new booking
    Given I have authorized the session
    When I create a new booking
    Then I should receive a success response
```

### Using Tags

Tags are used to categorize scenarios for selective execution. You can define tags in your feature files and use them to run specific tests. For instance, if you want to run only scenarios related to booking creation, you can tag those scenarios with `@create_booking`. You can run tests by specifying these tags in the command line, making it easier to manage test execution based on your needs.

**Example of running tests with tags:**

```bash
behave --tags=@create_booking
```

### Running Tests

To run the tests, use the following command:

```bash
behave
```

You can specify the path to a specific feature or scenario if needed:

```bash
behave features/booking_management.feature
```

### Environment Configuration

The `environment.py` file is used to configure the test environment, such as setting up sessions, base URLs, and any necessary environment variables.

**Example of `environment.py`:**

```python
import requests
from behave import fixture, use_fixture
from test_Booking.scr.Management.booking_management import BookingManagement

def before_scenario(context, scenario):
    context.session = requests.Session()
    context.base_url = "https://restful-booker.herokuapp.com"
    context.booking_management = BookingManagement(context.session)

def after_scenario(context, scenario):
    context.session.close()
```

### Reporting

This project uses Allure for reporting. To generate Allure reports, follow these steps:

1. **Install Allure:** If you haven't installed Allure, you can do so using the following command:

    ```bash
    pip install behave-allure
    ```

2. **Run Tests with Allure:** Execute your tests with the following command to generate the report:

    ```bash
    behave --format allure_behave.formatter:AllureFormatter --outfile reports/
    ```

3. **Generate Allure Report:** After running your tests, generate the Allure report with:

    ```bash
    allure serve reports
    ```

This will start a local web server and open the report in your default browser.
```
